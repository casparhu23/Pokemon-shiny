"0",""
"0","boost_preds <- predict(bst_final, dtrain_ins) # Create predictions for XGBoost model on training data"
"0",""
"0","pred_dat <- cbind.data.frame(boost_preds, smote_data$new_response)"
"0","names(pred_dat) <- c(""predictions"", ""response"")"
"0","oc<- optimal.cutpoints(X = ""predictions"","
"0","                       status = ""response"","
"0","                       tag.healthy = 0,"
"0","                       data = pred_dat,"
"0","                       methods = ""MaxEfficiency"")"
"0",""
"0","boost_preds <- predict(bst_final, dtest_ins) # Create predictions for XGBoost model"
"0",""
"0","pred_dat <- cbind.data.frame(boost_preds , test_subset$new_response)"
"0","# Convert predictions to classes, using optimal cut-off"
"0","boost_pred_class <- rep(0, length(boost_preds))"
"0","boost_pred_class[boost_preds >= oc$MaxEfficiency$Global$optimal.cutoff$cutoff[1]] <- 1"
"0",""
"0",""
"0",""
"0","t <- table(boost_pred_class, test_subset$new_response) # Create table"
"0","confusionMatrix(t, positive = ""1"") # Produce confusion matrix"
"1","Confusion Matrix and Statistics

"
"1","                
"
"1","boost_pred_class"
"1","     0"
"1","     1"
"1","
               0"
"1"," 13524"
"1","   791"
"1","
               1"
"1","  4004"
"1","  1681"
"1","
"
"1",""
"1","                         "
"1","                 "
"1","
"
"1","               Accuracy :"
"1"," 0.7602          "
"1","
"
"1","                 95% CI :"
"1"," (0.7543, 0.7662)"
"1","
"
"1","    No Information Rate :"
"1"," 0.8764          "
"1","
"
"1","    P-Value [Acc > NIR] :"
"1"," 1               "
"1","
"
"1","                         "
"1","                 "
"1","
"
"1","                  Kappa :"
"1"," 0.2898          "
"1","
"
"1","                         "
"1","                 "
"1","
"
"1"," Mcnemar's Test P-Value :"
"1"," <2e-16          "
"1","
"
"1","                         "
"1","                 "
"1","
"
"1","            Sensitivity :"
"1"," 0.68002         "
"1","
"
"1","            Specificity :"
"1"," 0.77157         "
"1","
"
"1","         Pos Pred Value :"
"1"," 0.29569         "
"1","
"
"1","         Neg Pred Value :"
"1"," 0.94474         "
"1","
"
"1","             Prevalence :"
"1"," 0.12360         "
"1","
"
"1","         Detection Rate :"
"1"," 0.08405         "
"1","
"
"1","   Detection Prevalence :"
"1"," 0.28425         "
"1","
"
"1","      Balanced Accuracy :"
"1"," 0.72579         "
"1","
"
"1","                         "
"1","                 "
"1","
"
"1","       'Positive' Class :"
"1"," 1               "
"1","
"
"1","                         "
"1","                 "
"1","
"
